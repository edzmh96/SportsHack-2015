<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="DropCalendar.js"></script>
    <meta charset="utf-8">
    <title>Section scroller one-page template</title>
    <meta name="description" content="This one page example has a fixed navbar and full page height sections. Each section is vertically centered on larger screens, and then stack responsively on smaller screens. Scrollspy is used to activate the current menu item. This layout also has a contact form example. Uses animate.css, FontAwesome, Google Fonts (Lato and Bitter) and Bootstrap." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Codeply">



    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="css/styles.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>

    $(document).ready(function(){


        $("hideButton").click(function(){
            $("z").hide(1000, function(){

                var firstNameTyped = $("#txtFirstName").val();
                $("#lblFirstName").html(firstNameTyped);

                var lastNameTyped = $("#txtLastName").val();
                $("#lblLastName").html(lastNameTyped);

                var restaurantNameTyped = $("#txtRestaurantName").val();
                $("#lblRestaurantName").html(restaurantNameTyped);

                var restaurantAddressTyped = $("#txtRestaurantAddress").val();
                $("#lblRestaurantAddress").html(restaurantAddressTyped);

                var teamsPlayingTyped = $("#txtTeamsPlaying").val();
                $("#lblTeamsPlaying").html(teamsPlayingTyped);

                var gameDateTyped = $("#txtGameDate").val();
                $("#lblGameDate").html(gameDateTyped);

                var gameTimeTyped = $("#txtGameTime").val();
                $("#lblGameTime").html(gameTimeTyped);

                var restaurantCapacityTyped = $("#txtRestaurantCapacity").val();
                $("#lblRestaurantCapacity").html(restaurantCapacityTyped);

                $("y").show(1000);



                var new_event = {"restaraunt_name" : restaurantNameTyped,
                             "restaraunt_long" : "",
                             "restaraunt_lat" : "",
                             "capacity_of_restaraunt" : restaurantCapacityTyped,
                             "number_of_customers" : "0",
                             "event_name" : teamsPlayingTyped,
                             "image_url" : "",
                             "yelp_url" : ""
                           };
                console.log(new_event);
                $.ajax
                ({
                  type: "POST",
                  url: '/create_event',
                  data: new_event,
                  dataType: "JSON"
                }).done(function (res)
                  {
                    console.log("AJAX call success!");
                    console.log(res);

                    $("#linkEventPage").attr("href", "eventPage?id=" + res.insertedIds[0]);

                  }).fail(function(err){
                    console.log(err);
                    alert("Please try again!");
                  });




            });
        });

    });

    </script>

  </head>
  <body >

<section class="container-fluid" id="section1">
    <div class="v-center">
        <z>
        <h1 class="text-center">Host your event!</h1>
        <h2 class="text-center lato animate slideInDown">Enter restaurant information:</h2>
        <p class="text-center">

        <form action="EventsPage.html" method="post" autocomplete="on">
        <fieldset>
        <label for="firstName">First name:</label>
            <input id="txtFirstName" type="text" placeholder="eg. Jane" ng-model="firstName">
            <br>
        <label for="lastName">Last name:</label>
            <input id="txtLastName" type="text" placeholder="eg. Joe" ng-model="lastName">
            <br>
        <label for="restaurantName">Restaurant name:</label>
            <input id="txtRestaurantName" list="restaurants" name="restaurant" placeholder="Restaurant name" ng-model="restaurantName">
            <datalist id="restaurants">
                <option value="McDonald's">
                <option value="Red Rockets">
                <option value="Joya Sushi">
            </datalist>
            <br>
        <label for="restaurantAddress">Restaurant address:</label>
            <input id="txtRestaurantAddress" list="rAddress" name="address" placeholder="Restaurant address" ng-model="restaurantAddress">
                <datalist id="rAddress">
                    <option value="120 King Street West">
                    <option value="1405 Upper Ottawa St">
                    <option value="1630 Main St W">
                </datalist>
            <br>

        <label for="teamNames">Teams playing:</label>
            <select id="txtTeamsPlaying" class="label" name="teams">
                <option value=" "> </option>
                <option value="BC Lions vs. Hamiliton Tiger-Cats">BC Lions vs. Hamiliton Tiger-Cats</option>
                <option value="Calgary Stampeders vs. Edmonton Eskimos">Calgary Stampeders vs. Edmonton Eskimos</option>
            </select>
            <br>
        <label for="gameDate"> Game date:</label>
            <input id ="txtGameDate" type="text" placeholder="01/31/2016" ng-model="gameDate">
        <br>
        <label for="gameTime"> Game time:</label>
            <input id="txtGameTime" type="text" placeholder="7pm" ng-model="gameTime">
            <br>
        <label for="restaurantCapacity">Capacity of restaurant:</label>
            <input id="txtRestaurantCapacity" type="text" placeholder="# of seats" ng-model="restaurantCapacity">
        <br>

        </fieldset>


  <hideButton class="myButton">create!</hideButton>

</form>
        </p>
        </z>
        <y style="display:none;">
                     <h1 class="text-center">Your event has been created!</h1>
        <h2 style="display:inline;" id="lblFirstName"></h2>&nbsp;<h2 style="display:inline;" id="lblLastName"> </h2>
        <p class="text-center">

        <form action="EventsPage.html" method="post" autocomplete="on">
        <fieldset>

        <label for="lblRestaurantName">Restaurant name:</label>
            <h3 style="display:inline;" id="lblRestaurantName" ng-model="restaurantName"></h3>
            <datalist id="restaurants">
                <option value="McDonald's">
                <option value="Red Rockets">
                <option value="Joya Sushi">
            </datalist>
            <br>
        <label for="lblRestaurantAddress">Restaurant address:</label>
            <h3 style="display:inline" id="lblRestaurantAddress" ng-model="restaurantAddress"></h3>
            <br>

        <label for="teamNames">Teams playing:</label>
            <h3 style="display:inline" id="lblTeamsPlaying" ng-model="teamNames"></h3>
            <br>
        <label for="gameDate">Game date:</label>
            <h3 style="display:inline" id="lblGameDate" ng-model="gameDate"></h3>
            <br>
        <label for="gameTime">Game time:</label>
            <h3 style="display:inline" id="lblGameTime" ng-model="gameTime"></h3>
            <br>
        <label for="restaurantCapacity">Capacity of restaurant:</label>
            <h3 style="display:inline" id="lblRestaurantCapacity" ng-model="restaurantCapacity"></h3>
        <br>
        <!-- TODO: Perhaps change this to a button -->
        <a href="#" id="linkEventPage">View Event</a>


        </fieldset>



</form>
        </p>
        </y>
    </div>
    <a href="#section2">

            <span>
                <i class="fa fa-angle-down fa-2x"></i>
            </span>

    </a>
</section>



    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <script src="js/scripts.js"></script>
  </body>
</html>
